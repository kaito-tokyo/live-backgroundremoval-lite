---
import { joinURL, withTrailingSlash } from "ufo";

import Layout from "../layouts/Layout.astro";
import { GITHUB_URL, PRODUCTION_BASE_URL } from "../lib/info.js";

const { BASE_URL } = import.meta.env;
---

<Layout
  lang="en"
  title="Interactive Help for OBS Background Removal"
  additionalCspConnectSrc=" https://huggingface.co/mlc-ai/ https://raw.githubusercontent.com/mlc-ai/ https://cas-bridge.xethub.hf.co/"
  additionalCspScriptSrc=" 'wasm-unsafe-eval'"
  trustedTypes={["lit-html"]}
>
  <Fragment slot="head-info">
    <meta
      name="description"
      content="Get instant help for Live Background Removal Lite securely. This experimental AI chatbot runs 100% locally in your browser‚Äîno data is sent to servers."
    />
    <link
      rel="canonical"
      href={withTrailingSlash(joinURL(PRODUCTION_BASE_URL, "interactive-help"))}
    />
  </Fragment>

  <main class="white-box">
    <lbrl-buddy>
      <div class="placeholder-container">
        <div class="placeholder-messages"></div>
        <div class="placeholder-form">
          <input type="text" disabled placeholder="Loading..." />
          <button disabled>Send</button>
        </div>
      </div>
    </lbrl-buddy>

    <div class="disclaimer-note">
      <p>
        <strong>üî¨ Experimental Notice:</strong> This is an experimental feature and
        may experience unexpected behavior or changes.
      </p>
      <p>
        <strong>üîí Privacy Notice:</strong> This chat operates entirely within your
        local machine (browser). No data, messages, or sensitive information is ever
        sent to external servers or third parties.
      </p>
      <p>
        <strong>‚ö†Ô∏è Accuracy Warning:</strong> This chatbot may occasionally display
        inaccurate or outdated information. Always verify critical details presented
        in the response.
      </p>
    </div>

    <nav class="page-nav" aria-label="Page navigation">
      <ul>
        <li>
          <a href={withTrailingSlash(BASE_URL)}>Back to Top</a>
        </li>
        <li>
          <a
            href={withTrailingSlash(GITHUB_URL)}
            target="_blank"
            rel="noopener noreferrer">GitHub Repository</a
          >
        </li>
      </ul>
    </nav>
  </main>

  <Fragment slot="body-bottom">
    <script>
      import "../components/LBRLBuddy.js";
    </script>
  </Fragment>
</Layout>

<style>
  lbrl-buddy {
    margin: 0 1rem;
  }

  .disclaimer-note {
    max-width: 600px;
    margin: 15px auto 0 auto;
    padding: 10px 15px;
    font-size: 0.85em;
    color: #555;
    background-color: #fffde7;
    border: 1px solid #f0e68c;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  }

  .disclaimer-note p {
    margin: 5px 0;
  }

  .disclaimer-note strong {
    font-weight: bold;
    color: #333;
  }
</style>
